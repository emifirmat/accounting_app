{% extends "layout.html" %}
{% load static %}

{% block title %}New Sale{% endblock title %} 

{% block body %}

    <h2>Create a new invoice</h2>
    <p>ATENTION: The invoices created in this section aren't official. You still
    have to issue them on the tax authorities webpage. 
    </p>
    <br>
    <form id="invoice-form" action="{% url 'erp:sales_new' %}" method="post">
        {% csrf_token %}
        {{ invoice_form.as_p }}
        <br>
        <div id="line-form-container">
            {{ line_formset.management_form }}
            <div id="line-form" class="invoice-line">
                {{ line_formset.0.as_p }}
            </div>
            <div id="line-form-template" class="hidden">
                {{ line_formset.empty_form.as_p }}
            </div>     
        </div>
        <button type="button" id="new-line">Add line</button>
        <input type="submit" value="Create">
    </form>

{% endblock body %}
{% block script %}
    <script src="{% static 'js/new_invoice.js' %}"></script>
{% endblock script %}